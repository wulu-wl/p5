<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    table {
        width: 500px;
        text-align: center;
    }
</style>

<body>
    <table border="1" cellspacing="0">
        <thead>
            <tr>
                <th>英雄</th>
                <th>力量</th>
                <th>速度</th>
                <th>法力</th>
                <th>血量</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>盖伦</td>
                <td>200</td>
                <td>300</td>
                <td>100</td>
                <td>3000</td>
            </tr>
            <tr>
                <td>诺手</td>
                <td>300</td>
                <td>350</td>
                <td>80</td>
                <td>2800</td>
            </tr>
        </tbody>
    </table>
    <script>
        function sortTable(table) {
            // 获取点击元素
            var thead = table.getElementsByTagName('th');
            for (var i = 0; i < thead.length; i++) {
                // 自调用点击事件
                (function (n) {
                    var flag = false;
                    // 点击每个元素
                    thead[n].onclick = function () {
                        // 获取tbody
                        // var tbody = table.getElementsByTagName('tbody')[0];
                        var tbody = table.tBodies[0];
                        // 获取tbody中所有行
                        var rows = tbody.getElementsByTagName('tr');
                        // 将tbody中所有行转换成数组
                        rows = Array.prototype.slice.call(rows, 0);
                        console.log(rows)
                        // 基于第n个td元素进行排序
                        rows.sort(function (row1, row2) {
                            var cell1 = row1.getElementsByTagName('td')[n];
                            var cell2 = row2.getElementsByTagName('td')[n];
                            // console.log(cell1)
                            var val1 = cell1.innerText;
                            var val2 = cell2.innerText;

                            if (val1 < val2) {
                                return -1;
                            } else if (val1 > val2) {
                                return 1
                            } else {
                                return 0
                            }
                        })
                        if (flag) {
                            rows.reverse();
                        }
                        for (var i = 0; i < rows.length; i++) {
                            tbody.appendChild(rows[i]);
                        }
                        flag = !flag;
                    }
                })(i);
            }
        }

        window.onload = function () {
            var table = document.getElementsByTagName('table')[0];
            sortTable(table)
        }


    </script>
</body>

</html>